<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GinecoAI â€” Assistente Clinico</title>
<link rel="stylesheet" id="theme-link" href="demo-v3.css?v=gh3">
</head>
<body>

<!-- â”€â”€ LEFT SIDEBAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <div class="logo-icon">âš•</div>
    <div>
      <div class="logo-text">GinecoAI</div>
      <div class="logo-sub">Assistente Clinico RAG</div>
    </div>
  </div>

  <button class="new-chat-btn" onclick="newChat()">âœ¦ Nuova Sessione</button>

  <div class="sidebar-search">
    <span class="search-icon">ğŸ”</span>
    <input type="text" placeholder="Cerca sessioniâ€¦" id="sessionSearch">
  </div>

  <div class="sidebar-section-header">
    <div class="sidebar-section-title">Sessioni Recenti</div>
    <span class="sess-cnt" id="sessionsCount">0</span>
  </div>

  <div class="session-list" id="sessionList">
    <div class="session-empty">Nessuna sessione â€” avvia una chat</div>
  </div>

  <div class="sidebar-bottom">
    <div class="sidebar-bottom-item">
      <span>ğŸ§ </span><span class="sidebar-bottom-val">Gemini 2.5 Flash</span>
    </div>
    <div class="sidebar-bottom-item">
      <span>ğŸ“„</span><span class="sidebar-bottom-val">41 documenti</span>
    </div>
    <div class="sidebar-bottom-item">
      <span style="display:flex;align-items:center;gap:4px"><span style="width:6px;height:6px;border-radius:50%;background:var(--success);box-shadow:0 0 5px var(--success);display:inline-block"></span>Backend</span>
      <span class="sidebar-bottom-val">Online</span>
    </div>
  </div>
</aside>

<!-- â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="main">

  <!-- HEADER -->
  <header>
    <div class="header-left">
      <div class="toggle-sidebar" onclick="toggleSidebar()" title="Sessioni">â˜°</div>
      <div>
        <div class="header-title" id="headerTitle">Consulenza Clinica AI</div>
        <div class="header-subtitle">Ginecologia e Ostetricia Â· SIGO 2025</div>
      </div>
    </div>
    <div class="header-right" style="position:relative">
      <div class="rag-badge">âš¡ RAG</div>
      <div class="status-dot"><div class="dot"></div><span>Online</span></div>
      <div class="header-btn" id="toggleDocsBtn" title="Documenti" onclick="toggleDocs()">ğŸ“‹</div>
      <div class="header-btn" title="Nuova chat" onclick="newChat()">âœ¦</div>
      <div class="header-btn" id="settingsBtn" title="Impostazioni" onclick="toggleSettings()">âš™</div>
      <!-- SETTINGS PANEL -->
      <div id="settingsPanel" style="display:none;position:absolute;top:46px;right:14px;background:#111;border:1px solid rgba(255,255,255,0.1);border-radius:12px;padding:10px 10px 8px;min-width:130px;max-height:min(72vh,300px);overflow-y:auto;z-index:999;box-shadow:0 8px 32px rgba(0,0,0,0.6);backdrop-filter:blur(12px)">
        <div style="font-size:9px;color:#555;letter-spacing:.08em;padding:0 4px 6px">TEMA</div>
        <div style="display:flex;flex-direction:column;gap:3px">
          <button class="theme-btn" data-theme="v0" onclick="setTheme('v0')" style="font-size:11px;padding:4px 10px;border-radius:7px;border:1px solid rgba(59,130,246,0.35);background:rgba(59,130,246,0.1);color:#93c5fd;cursor:pointer;font-family:inherit;text-align:left">â¬¤ Blu</button>
          <button class="theme-btn" data-theme="v1" onclick="setTheme('v1')" style="font-size:11px;padding:4px 10px;border-radius:7px;border:1px solid rgba(245,158,11,0.35);background:rgba(245,158,11,0.1);color:#fcd34d;cursor:pointer;font-family:inherit;text-align:left">â¬¤ Ambra</button>
          <button class="theme-btn" data-theme="v2" onclick="setTheme('v2')" style="font-size:11px;padding:4px 10px;border-radius:7px;border:1px solid rgba(16,185,129,0.35);background:rgba(16,185,129,0.1);color:#6ee7b7;cursor:pointer;font-family:inherit;text-align:left">â¬¤ Verde</button>
          <button class="theme-btn" data-theme="v3" onclick="setTheme('v3')" style="font-size:11px;padding:4px 10px;border-radius:7px;border:1px solid rgba(148,163,184,0.35);background:rgba(148,163,184,0.12);color:#e2e8f0;cursor:pointer;font-family:inherit;text-align:left">â¬¤ Grafite</button>
          <button class="theme-btn" data-theme="v4" onclick="setTheme('v4')" style="font-size:11px;padding:4px 10px;border-radius:7px;border:1px solid rgba(139,92,246,0.35);background:rgba(139,92,246,0.1);color:#c4b5fd;cursor:pointer;font-family:inherit;text-align:left">â¬¤ Viola</button>
          <button class="theme-btn" data-theme="v6" onclick="setTheme('v6')" style="font-size:11px;padding:4px 10px;border-radius:7px;border:1px solid rgba(156,163,175,0.38);background:rgba(156,163,175,0.14);color:#e5e7eb;cursor:pointer;font-family:inherit;text-align:left">â¬¤ Nero</button>
          <button class="theme-btn" data-theme="v5" onclick="setTheme('v5')" style="font-size:11px;padding:4px 10px;border-radius:7px;border:1px solid rgba(34,197,126,0.38);background:rgba(34,197,126,0.12);color:#86efac;cursor:pointer;font-family:inherit;text-align:left">â¬¤ ChatGPT</button>
        </div>
      </div>
    </div>
  </header>

  <!-- RAG INFO BAR -->
  <div class="rag-bar">
    <div class="rag-bar-item">ğŸ” Embedding: <span class="rag-num">MiniLM-L12 Â· 384d</span></div>
    <span class="rag-bar-sep">|</span>
    <div class="rag-bar-item">ğŸ“„ Documenti: <span class="rag-num">41 PDF</span> (56,5MB Â· 7.2M chrs Â· 1.04M wrds)</div>
    <span class="rag-bar-sep">|</span>
    <div class="rag-bar-item">ğŸ“š Chunk indicizzati: <span class="rag-num" id="barChunks">24.365</span></div>
    <span class="rag-bar-sep">|</span>
    <div class="rag-bar-item">ğŸ—‚ Ingestione: <span class="rag-num">25/02/2026 19:26</span></div>
    <span class="rag-bar-sep">|</span>
    <div class="rag-bar-item">âš¡ Indicizzazione: <span class="rag-num">25/02/2026 18:14</span></div>
    <span class="rag-bar-sep">|</span>
    <div class="rag-bar-item">ğŸ§  Modello AI: <span class="rag-num">Gemini 2.5 Flash</span></div>
    <span class="rag-bar-sep">|</span>
    <div class="rag-bar-item" title="Token stimati sessione corrente (Gemini 2.5 Flash)">â¬† <span class="rag-num" id="tokIn">0</span> in Â· â¬‡ <span class="rag-num" id="tokOut">0</span> out Â· <span class="rag-num" id="tokCost">$0.0000</span></div>
  </div>

  <!-- CONTENT AREA: chat + docs panel -->
  <div class="content-area">

    <!-- CHAT -->
    <div class="chat-area" id="chatArea"></div>

    <!-- DOCS PANEL (right, collapsible) -->
    <aside class="docs-panel collapsed" id="docsPanel">
      <div class="docs-panel-header">
        <span class="docs-panel-title">ğŸ“š Documenti</span>
        <button class="docs-panel-close" onclick="toggleDocs()" title="Chiudi">Ã—</button>
      </div>

      <div class="sidebar-search">
        <span class="search-icon">ğŸ”</span>
        <input type="text" placeholder="Cerca documentiâ€¦" id="docSearch">
      </div>

      <div class="doc-list" id="docList"></div>

      <div class="docs-panel-footer">
        <span><span class="sel-count" id="selCount">6</span> / 41 selezionati</span>
        <span style="cursor:pointer;color:var(--blue);font-size:10px;" onclick="toggleAll()">Tutte</span>
      </div>
    </aside>

  </div><!-- /content-area -->

  <!-- INPUT -->
  <div class="input-area">
    <div class="input-hints" id="hints">
      <div class="hint-chip" onclick="useHint(this)">Gestione gravidanza protratta</div>
      <div class="hint-chip" onclick="useHint(this)">Screening trisomia 21</div>
      <div class="hint-chip" onclick="useHint(this)">Trattamento emorragia post-partum</div>
      <div class="hint-chip" onclick="useHint(this)">Induzione del parto a 41 settimane</div>
    </div>
    <div class="input-row">
      <textarea class="input-box" id="inputBox"
        placeholder="Chiedi una consulenza basata sui documenti clinici..."
        rows="1"></textarea>
      <button class="send-btn" id="sendBtn" onclick="sendMessage()">â¤</button>
    </div>
    <div class="input-meta">
      <span>Le risposte sono basate esclusivamente sui documenti selezionati</span>
      <a href="https://www.istreamzone.it" target="_blank" rel="noopener">by iStream S.r.l. &copy;2026</a>
    </div>
  </div>

</div><!-- /main -->

<script src="demo.js"></script>
</body>
</html>
